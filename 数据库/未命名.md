

## 〇、屁话

数据库管理系统Database management system(简称DBMS)
它们都是独立可运行的软件,我们用java写的程序可以连接这些软件让其负责对数据进行维护
常见的DBMS:

* oracle
* mysql
* DB2
* SQLServer

如何操作DBMS?

* SQL语言:Structured Query Language
* SQL有执行标准:SQL92
* SQL语言是操作DBMS的语言,所有的DBMS都支持标准的SQL语言以及自身提供的可扩展SQL

连接数据库的方式:

1. 命令行(控制台)的客户端
     `show databases`;
2. 图形化界面的客户端
3. IDEA终极版提供了连接数据库的功能
4. 在JAVA中要是用JDBC连接数据库

SQL语句的分类:

* DDL:数据定义语言,用来操作数据库对象(数据库对象:表,索引,序列等都属于数据库对象)
      包含的语法:`CREATE,DROP,ALTER`
* DML:数据操作语言,用来操作表中的数据(包含的操作:对数据的增删改)
      包含的语法:`INSERT,UPDATE,DELETE`
* DQL:数据查询语言,用来查询表中的数据
      包含的语法:`SELECT`
* TCL:事务控制语言
      包含的语法:`COMMIT`,`ROLLBACK`
* DCL:数据控制语言,通常用来让DBA管理数据库使用

## 一、数据库操作(DDL)

1. 查看DBMS里有多少个数据库
   `SHOW DATABASES`;

2. 新建一个数据库:
   `CREATE DATABASE 数据库名`
   例如:

```sql
CREATE DATABASE mydb;
```

3. 创建一个数据库时可以指定该数据库使用的字符集
   `CREATE DATABASE 数据库名 CHARSET=UTF8/GBK`
   例如:

```sql
CREATE DATABASE mydb2 CHARSET=UTF8
```

4. 查看数据库信息
   `SHOW CREATE DATABASE` 数据库名
   例如:

```sql
SHOW CREATE DATABASE mydb
```

5. 删除数据库
   `DROP DATABASE 数据库名`
   例如:

```sql
DROP DATABASE db1
DROP DATABASE db2
```

6. 使用某个指定的数据库:
   `USE 数据库名`
   例如:
   使用mydb这个数据库:

```sql
USE mydb;
```

## 二、表操作 DML

1. 创建表

   `CREATE TABLE 表名( 字段名1 数据类型, 字段名2 数据类型, ... ) `

   ```sql
   CREATE TABLE userinfo( id INT, username VARCHAR(30), password VARCHAR(30), nickname VARCHAR(30), age INT );
   ```

2. 查看表的详细信息

   `SHOW CREATE TABLE 表名`

3. 查看表结构

   `DESC 表名`

4. 删除表

   `DROP TABLE 表名`

   ```sql
   DROP TABLE user;
   ```

5. 修改表

   `ALTER TABLE 表名 ...`

   * 修改表名

     `RENAME TABLE 原表名 TO 新表名`

   * 修改表结构

     * 添加列

       `ALTER TABLE 表名 ADD 字段名 字段类型 [FIRST| AFTER 字段名]`

       * 在hero第一列上追加新列

         ```sql
         ALTER TABLE hero ADD id INT FIRST
         ```

       * 向user表中追加性别

         ```sql
         ALTER TABLE user ADD gender VARCHAR(10)
         ```

     * 删除表中字段

       `ALTER TABLE 表明 DROP 字段名`

     * 修改表中字段

       > *注意:可以修改表中字段的类型,长度信息.但是尽量不要在表中包含数据后再进行修改,* *否则可能因为表中现有数据违背该字段修改后的要求导致修改失败.*

       `ALTER TABLE 表名 CHANGE 字段名 新字段名 新字段类型`

       ```sql
       ALTER TABLE hero CHANGE age age VARCHAR(100)
       ```